(this["webpackJsonpreact-fitness-tracker-client"]=this["webpackJsonpreact-fitness-tracker-client"]||[]).push([[0],{172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),s=a.n(c),o=(a(91),a(92),a(93),a(21)),l=a(6),i=a(27),u=a(28),m=a(34),d=a(32),p=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},"ExcerTracker"),r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(o.b,{to:"/",className:"nav-link"},"Exercises")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(o.b,{to:"/create",className:"nav-link"},"Create Exercise Log")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(o.b,{to:"/user",className:"nav-link"},"Create User")))))}}]),a}(n.Component),E=a(11),h=a.n(E),b=a(22),v=a(33),f=a(48),g=a(8),y=function(e,t){switch(t.type){case"GET_EXERCISES":case"GET_EXERCISE_By_ID":return Object(g.a)(Object(g.a)({},e),{},{loading:!1,exercises:t.payload});case"ADD_EXERCISE":return Object(g.a)(Object(g.a)({},e),{},{exercises:[].concat(Object(f.a)(e.exercises),[t.payload])});case"DELETE_EXERCISE":return Object(g.a)(Object(g.a)({},e),{},{exercises:e.exercises.filter((function(e){return e._id!==t.payload}))});case"EXERCISE_ERROR":return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});default:return e}},C=a(9),O=a.n(C),x={exercises:[],error:null,loading:!0},j=Object(n.createContext)(x),D=function(e){var t=e.children,a=Object(n.useReducer)(y,x),c=Object(v.a)(a,2),s=c[0],o=c[1];function l(){return(l=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/exercises");case 3:t=e.sent,o({type:"GET_EXERCISES",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"EXERCISE_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(){return(i=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/exercises/".concat(t));case 3:a=e.sent,o({type:"GET_EXERCISE_By_ID",payload:a.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"EXERCISE_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(){return(u=Object(b.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,O.a.post("/exercises/add",t,a);case 4:n=e.sent,o({type:"ADD_EXERCISE",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o({type:"EXERCISE_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function m(){return(m=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete("/exercises/".concat(t));case 3:o({type:"DELETE_EXERCISE",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o({type:"EXERCISE_ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return r.a.createElement(j.Provider,{value:{exercises:s.exercises,error:s.error,loading:s.loading,getExercises:function(){return l.apply(this,arguments)},getExerciseById:function(e){return i.apply(this,arguments)},deleteExercise:function(e){return m.apply(this,arguments)},addExercise:function(e){return u.apply(this,arguments)}}},t)},S=function(e){var t=e.exercise,a=Object(n.useContext)(j).deleteExercise;return r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.duration),r.a.createElement("td",null,t.date.substring(0,10)),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/edit/"+t._id},"edit")," | ",r.a.createElement("a",{href:"#",onClick:function(){a(t._id)}},"delete")))},R=function(){var e=Object(n.useContext)(j),t=e.exercises,a=e.getExercises;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",null,r.a.createElement("h3",null,"Logged Exercises"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Duration"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(S,{key:e._id,exercise:e})})))))},k=a(10),N=a(42),w=a.n(N),_=(a(73),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(k.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(k.a)(n)),n.onChangeDuration=n.onChangeDuration.bind(Object(k.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(k.a)(n)),n.onSubmit=n.onSubmit.bind(Object(k.a)(n)),n.state={username:"",description:"",duration:0,date:new Date,users:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/exercises/"+this.props.match.params.id).then((function(t){e.setState({username:t.data.username,description:t.data.description,duration:t.data.duration,date:new Date(t.data.date)})})).catch((function(e){return console.log(e)})),O.a.get("/users").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return e.username}))})})).catch((function(e){return console.log(e)}))}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeDuration",value:function(e){this.setState({duration:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,description:this.state.description,duration:this.state.duration,date:this.state.date};console.log(t),O.a.post("/exercises/update/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="/"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Exercise Log"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username: "),r.a.createElement("select",{ref:"userInput",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Duration (in minutes): "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.duration,onChange:this.onChangeDuration})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date: "),r.a.createElement("div",null,r.a.createElement(w.a,{selected:this.state.date,onChange:this.onChangeDate}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Edit Exercise Log",className:"btn btn-primary"}))))}}]),a}(n.Component)),U=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(k.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(k.a)(n)),n.onChangeDuration=n.onChangeDuration.bind(Object(k.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(k.a)(n)),n.onSubmit=n.onSubmit.bind(Object(k.a)(n)),n.state={username:"",description:"",duration:0,date:new Date,users:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/users").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return e.username})),username:t.data[0].username})})).catch((function(e){console.log(e)}))}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeDuration",value:function(e){this.setState({duration:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,description:this.state.description,duration:this.state.duration,date:this.state.date};console.log(t),O.a.post("/exercises/add",t).then((function(e){return console.log(e.data)})),window.location="/"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New Exercise Log"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username: "),r.a.createElement("select",{ref:"userInput",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Duration (in minutes): "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.duration,onChange:this.onChangeDuration})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date: "),r.a.createElement("div",null,r.a.createElement(w.a,{selected:this.state.date,onChange:this.onChangeDate}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Exercise Log",className:"btn btn-primary"}))))}}]),a}(n.Component),I=function(e,t){switch(t.type){case"GET_USERS":return Object(g.a)(Object(g.a)({},e),{},{loading:!1,users:t.payload});case"ADD_USER":return Object(g.a)(Object(g.a)({},e),{},{users:[].concat(Object(f.a)(e.users),[t.payload])});case"USER_ERROR":return Object(g.a)(Object(g.a)({},e),{},{error:t.payload});default:return e}},X={users:[],error:null,loading:!0},T=Object(n.createContext)(X),L=function(e){var t=e.children,a=Object(n.useReducer)(I,X),c=Object(v.a)(a,2),s=c[0],o=c[1];function l(){return(l=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/users");case 3:t=e.sent,o({type:"GET_USERS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"USER_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(){return(i=Object(b.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("newUser: ",t),a={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,O.a.post("/users/add",t,a);case 5:n=e.sent,console.log("user state response: ",n),o({type:"ADD_USER",payload:n.data.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o({type:"USER_ERROR",payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement(T.Provider,{value:{users:s.users,error:s.error,loading:s.loading,getUsers:function(){return l.apply(this,arguments)},addUser:function(e){return i.apply(this,arguments)}}},t)},G=function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(T).addUser;return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New User"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={username:a};console.log(t),s(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create User",className:"btn btn-primary"}))))};var q=function(){return r.a.createElement(L,null,r.a.createElement(D,null,r.a.createElement(o.a,null,r.a.createElement(p,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement(l.a,{path:"/",exact:!0,component:R}),r.a.createElement(l.a,{path:"/edit/:id",component:_}),r.a.createElement(l.a,{path:"/create",component:U}),r.a.createElement(l.a,{path:"/user",component:G})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,a){e.exports=a(172)},91:function(e,t,a){},92:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.fab35631.chunk.js.map